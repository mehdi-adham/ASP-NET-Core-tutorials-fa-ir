# انتخاب یک رابط کاربری وب ASP.NET Core 

فریمورک ASP.NET Core یک فریمورک کامل UI است. انتخاب کنید کدام عملکردها با نیازهای رابط کاربری وب برنامه ترکیب شوند.

## مزایا در مقابل هزینه‌های سرور UI رابط کاربری رندرشده کلاینت

سه رویکرد کلی برای ایجاد رابط کاربری وب مدرن با ASP.NET Core وجود دارد:

- برنامه هایی که UI را از سرور رندر می کنند.
- برنامه‌هایی که UI را روی کلاینت در مرورگر رندرمی‌کنند.
- برنامه های ترکیبی که از هر دو رویکرد رندر رابط کاربری سرور و کلاینت بهره می برند. به عنوان مثال، بیشتر رابط کاربری وب روی سرور رندر می شود و اجزای رندر شده کلاینت در صورت نیاز اضافه می شوند.

مزایا و معایبی وجود دارد که باید در هنگام رندر UI روی سرور یا کلاینت در نظر گرفت.


## رابط کاربری رندر شده توسط سرور

یک برنامه رابط کاربری وب که بر روی سرور رندر می شود به صورت پویا HTML و CSS صفحه را در پاسخ به درخواست مرورگر روی سرور تولید می کند. صفحه آماده نمایش به کلاینت می رسد.

فواید:
- نیازهای مشتری حداقل هستند زیرا سرور کار منطق و تولید صفحه را انجام می دهد:
  - عالی برای دستگاه های کم رده و اتصالات با پهنای باند کم.
  - طیف گسترده ای از نسخه های مرورگر را در مشتری امکان پذیر می کند.
  - زمان بارگذاری سریع صفحه اولیه
  - حداقل تا بدون جاوا اسکریپت برای کشیدن به سمت کلاینت.
- انعطاف پذیری دسترسی به منابع سرور محافظت شده:
  - دسترسی به پایگاه داده
  - دسترسی به اسرار، مانند مقادیر برای فراخوانی های API به Azure storage.
- مزایای تجزیه و تحلیل سایت استاتیک، مانند بهینه سازی موتورهای جستجو.

نمونه هایی از سناریوهای رایج برنامه رابط کاربری وب ارائه شده توسط سرور:

- سایت های پویا مانند سایت هایی که صفحات، داده ها و فرم های شخصی سازی شده را ارائه می دهند.
- نمایش داده های فقط خواندنی مانند لیست تراکنش ها.
- نمایش صفحات استاتیک وبلاگ
- یک سیستم مدیریت محتوای عمومی

اشکالات:
- هزینه محاسبات و استفاده از حافظه به جای هر کلاینت، روی سرور متمرکز می شود.
- تعاملات کاربر نیاز به یک رفت و برگشت به سرور برای ایجاد به‌روزرسانی‌های UI دارد.




## رابط کاربری رندر شده توسط کلاینت

یک برنامه رندر شده با مشتری، رابط کاربری وب را به صورت پویا بر روی کلاینت رندر می‌کند و در صورت لزوم، DOM مرورگر را مستقیماً به‌روزرسانی می‌کند.

فواید:
- امکان تعامل غنی تقریباً فوری، بدون نیاز به رفت و برگشت به سرور را فراهم می کند. مدیریت رویداد UI و منطق به صورت محلی روی دستگاه کاربر با حداقل تأخیر اجرا می شود.
- پشتیبانی از به روز رسانی های افزایشی، ذخیره فرم ها یا اسناد نیمه تکمیل شده بدون نیاز به انتخاب دکمه ای برای ارسال فرم توسط کاربر.
- می تواند برای اجرا در حالت قطع شده طراحی شود. به‌روزرسانی‌های مدل سمت کلاینت در نهایت پس از برقراری مجدد اتصال به سرور همگام‌سازی می‌شوند.
- کاهش هزینه و بار سرور، کار به کلاینت بارگذاری می شود. بسیاری از برنامه های رندرشده توسط کلاینت می توانند به عنوان وب سایت های استاتیک میزبانی شوند.
- از قابلیت های دستگاه کاربر بهره می برد.

نمونه هایی از رابط کاربری وب رندرشده توسط کلاینت:
- یک داشبورد تعاملی
- برنامه ای با قابلیت کشیدن و رها کردن
- یک برنامه اجتماعی پاسخگو و مشارکتی.

اشکالات:
- کد برای منطق باید دانلود و بر روی کلاینت اجرا شود و به زمان بارگذاری اولیه اضافه شود.
- الزامات کلاینت ممکن است کاربرانی را که دستگاه‌های ارزان‌قیمت، نسخه‌های مرورگر قدیمی‌تر یا اتصالات با پهنای باند کم دارند، حذف کند.



## انتخاب راه حل رابط کاربری رندرشده سرور ASP.NET Core 

صفحات ASP.NET Core Razor و ASP.NET Core MVC فریمورک های مبتنی بر سرور برای ساخت برنامه های وب با دات نت هستند.


## ASP.NET Core Razor Pages

<p dir="rtl">
Razor Pages یک مدل مبتنی بر صفحه است. نگرانی‌های UI و منطق کسب‌وکار جدا هستند، اما در داخل صفحه.
</p>
<p dir="rtl">
Razor Pages روشی توصیه شده برای ایجاد برنامه های جدید مبتنی بر صفحه یا فرم برای توسعه دهندگانی است که به ASP.NET Core تازه وارد هستند. Razor Pages نقطه شروع آسان تری نسبت به ASP.NET Core MVC فراهم می کند.
</p>

مزایای Razor Pages، علاوه بر مزایای رندر سرور:

- به سرعت UI را بسازید و به روز کنید. کد برای صفحه همراه با صفحه نگهداری می شود، در حالی که نگرانی های UI و منطق تجاری از هم جدا هستند.
- قابل آزمایش و مقیاس برای برنامه های بزرگ.
- صفحات ASP.NET Core خود را به روشی ساده تر از ASP.NET MVC سازماندهی کنید:
  - نمایش منطق و viewmodel های خاص را می توان با هم در فضای نام و دایرکتوری خود نگه داشت.
  - گروه هایی از صفحات مرتبط را می توان در فضای نام و دایرکتوری خود نگهداری کرد.



## ASP.NET Core MVC

<p dir="rtl">
ASP.NET MVC رابط کاربری را روی سرور رندر می کند و از الگوی معماری Model-View-Controller (MVC) استفاده می کند. الگوی MVC یک برنامه را به سه گروه اصلی از اجزا تقسیم می کند: Models، Views و Controllers. درخواست های کاربر به یک کنترلر هدایت می شوند. کنترلر مسئول کار با مدل برای انجام اقدامات کاربر یا یافتن نتایج جستجوها است. کنترلر view  را برای نمایش به کاربر انتخاب می‌کند و هر دیتا مدلی را که نیاز دارد در اختیار آن قرار می‌دهد. پشتیبانی از Razor Pages بر روی ASP.NET Core MVC ساخته شده است.
</p>

مزایای MVC، علاوه بر مزایای رندر سرور:

- بر اساس یک مدل مقیاس پذیر و بالغ برای ساخت برنامه های وب بزرگ.
- جداسازی واضح نگرانی ها برای حداکثر انعطاف پذیری.
- تفکیک مسئولیت‌های Model-View-Controller تضمین می‌کند که مدل کسب‌وکار می‌تواند  به جزئیات پیاده‌سازی سطح پایین تکامل یابد.



## Blazor Server

فریمورک Blazor برای ایجاد رابط کاربری وب تعاملی سمت کلاینت با دات نت است:

- با استفاده از C# به جای جاوا اسکریپت، UI های تعاملی غنی ایجاد کنید.
-منطق برنامه سمت سرور و سمت کلاینت نوشته شده در دات نت را به اشتراک بگذارید.
- برای پشتیبانی گسترده مرورگر، از جمله مرورگرهای تلفن همراه، رابط کاربری را به صورت HTML و CSS رندر کنید.
- با پلتفرم های هاست مدرن مانند Docker ادغام کنید.
- با دات نت و بلزور برنامه های ترکیبی دسکتاپ و موبایل بسازید.

استفاده از دات نت برای توسعه وب سمت کلاینت مزایای زیر را به همراه دارد:

- به جای جاوا اسکریپت کد را در سی شارپ بنویسید.
- از اکوسیستم دات نت موجود کتابخانه های دات نت استفاده کنید.
- منطق برنامه را در سرور و کلاینت به اشتراک بگذارید.
- از عملکرد، قابلیت اطمینان و امنیت دات نت بهره مند شوید.
- یک محیط توسعه مانند Visual Studio یا Visual Studio Code در Windows، Linux، یا macOS 
- بر روی مجموعه‌ای از زبان‌ها، فریمورک ها و ابزارهای مشترکی بسازید که پایدار، غنی از ویژگی‌ها و استفاده آسان هستند.


<p dir="rtl">
Blazor Server از هاست رابط کاربری رندرشده توسط سرور در یک برنامه ASP.NET Core پشتیبانی می کند. به روز رسانی های رابط کاربری کلاینت از طریق یک اتصال SignalR انجام می شود. زمان اجرا روی سرور باقی می‌ماند و کد C# برنامه را اجرا می‌کند.
</p>



## انتخاب یک راه حل رند شده کلاینت ASP.NET Core

## Blazor WebAssembly

<p dir="rtl">
Blazor WebAssembly یک فریمورک برنامه تک صفحه ای (SPA) برای ساخت برنامه های وب تعاملی سمت کلاینت با ویژگی های کلی است که در بخش Blazor Server قبلا در این مقاله توضیح داده شد.
</p>

اجرای کد دات نت در داخل مرورگرهای وب توسط WebAssembly (به اختصار wasm) امکان پذیر است. WebAssembly یک فرمت بایت کد فشرده است که برای دانلود سریع و حداکثر سرعت اجرا بهینه شده است. WebAssembly یک استاندارد اپن وب است و در مرورگرهای وب بدون افزونه پشتیبانی می شود. Blazor WebAssembly در تمام مرورگرهای وب مدرن از جمله مرورگرهای تلفن همراه کار می کند.

هنگامی که یک برنامه Blazor WebAssembly ساخته و اجرا می شود:

- فایل های کد سی شارپ و فایل های Razor در مجموعه های NET کامپایل می شوند.
- اسمبلی ها و زمان اجرا دات نت در مرورگر دانلود می شوند.
- Blazor WebAssembly زمان اجرا دات نت را بوت استرپ می کند و زمان اجرا را برای بارگذاری مجموعه ها برای برنامه پیکربندی می کند. زمان اجرا Blazor WebAssembly از interop جاوا اسکریپت برای مدیریت دستکاری Document Object Model (DOM) و فراخوانی های API مرورگر استفاده می کند.



<h2 dir="rtl">ASP.NET Core Single Page Application (SPA) با فریم ورک های جاوا اسکریپت مانند Angular و React
</h2>

منطق سمت کلاینت را برای برنامه های ASP.NET Core با استفاده از فریمورک های محبوب جاوا اسکریپت، مانند Angular یا React بسازید. ASP.NET Core قالب های پروژه را برای Angular و React آماره می کند و می تواند با سایر فریم ورک های جاوا اسکریپت نیز استفاده شود.

مزایای ASP.NET Core SPA با فریم ورک جاوا اسکریپت، علاوه بر مزایای ارائه کلاینت که قبلا ذکر شد:

- محیط اجرای جاوا اسکریپت قبلاً با مرورگر آماده شده است.
- جامعه بزرگ و اکوسیستم بالغ.
- منطق سمت کلاینت را برای برنامه های ASP.NET Core با استفاده از فریم ورک های محبوب JS، مانند Angular و React بسازید.

نکات منفی:
- زبان های برنامه نویسی، چارچوب ها و ابزارهای بیشتری مورد نیاز است.
- به اشتراک گذاری کد مشکل است، بنابراین ممکن است برخی از منطق ها تکراری شوند.

برای شروع نگاه کنید به:
- از Angular با ASP.NET Core استفاده کنید
- از React با ASP.NET Core استفاده کنید



## یک راه حل ترکیبی انتخاب کنید: ASP.NET Core MVC یا Razor Pages plus Blazor

MVC، Razor Pages و Blazor بخشی از فریمورک ASP.NET Core هستند و برای استفاده با هم طراحی شده اند. اجزای Razor را می توان در Razor Pages و برنامه های MVC در یک راه حل میزبان Blazor WebAssembly یا Blazor Server ادغام کرد. هنگامی که یک ویو یا صفحه رندر می شود، اجزای آن می توانند همزمان از قبل اجرا شوند.

مزایای MVC یا Razor Pages plus Blazor، علاوه بر مزایای MVC یا Razor Pages:

- پیش رندر، اجزای Razor را روی سرور اجرا می‌کند و آنها را به یک ویو یا صفحه تبدیل می‌کند، که زمان بارگذاری درک شده برنامه را بهبود می‌بخشد.
- با [Component Tag Helper](https://learn.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/built-in/component-tag-helper?view=aspnetcore-7.0) به نماها یا صفحات موجود تعامل اضافه کنید.


برای شروع کار با ASP.NET Core MVC یا Razor Pages plus Blazor، به [Prerender_and_integrate_ASP.NET_Core_Razor_components](https://learn.microsoft.com/en-us/aspnet/core/blazor/components/prerendering-and-integration?view=aspnetcore-7.0) مراجعه کنید.